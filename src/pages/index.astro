---
import Layout from '../layouts/Layout.astro';
import Badge from '../components/Badge.astro';
import Email from '../components/Email.astro';
import Source from '../components/Source.astro';
import CardList from '../components/CardList.astro';
---

<Layout title='hkanwal.com' transitions>
  <div id='home'>
    <h1 id='name'>Harkeerat Kanwal</h1>
    <section id='brief'>web developer - mobile app developer - full-stack engineer</section>
    <Badge id='works-link' style='margin-top: 80px;' borderRadius='20px' padding='8px 25px'>
      <span id='works-btn'>works</span>
    </Badge>
    <div id='external-links'>
      <Badge href='https://github.com/HKanwal' target='_blank'>
        <img src='/favicon-github.svg' height='46px' width='46px' alt='GitHub Logo' />
      </Badge>
      <Badge href='https://www.linkedin.com/in/hkanwal/' target='_blank' style='margin-left: 20px;'>
        <img src='/favicon-linkedin.svg' height='46px' width='46px' alt='LinkedIn Logo' />
      </Badge>
    </div>
  </div>
  <section id='works'>
    <CardList title='Works' />
  </section>
  <Email />
  <Source />
</Layout>

<script>
  let mouseX, mouseY;
  let traX, traY;
  const ww = window.innerWidth;
  const onMobile = ww <= 480;

  if (onMobile) {
    document.ontouchmove = (e) => {
      mouseX = e.changedTouches[0].pageX;
      mouseY = e.changedTouches[0].pageY;
      if (mouseX < ww / 2) {
        traX = 65 - (4 * (ww / 2 - mouseX)) / 450;
      } else {
        traX = 65 + (4 * (mouseX - ww / 2)) / 450;
      }
      traY = (4 * mouseY) / 450 + 50;
      const el = document.getElementById('name');
      if (el) {
        el.style.backgroundPosition = traX + '% ' + traY + '%';
      }
    };
  } else {
    document.onmousemove = (e) => {
      mouseX = e.pageX;
      mouseY = e.pageY;
      if (mouseX < ww / 2) {
        traX = 73 - (4 * (ww / 2 - mouseX)) / 450;
      } else {
        traX = 73 + (4 * (mouseX - ww / 2)) / 450;
      }
      traY = (4 * mouseY) / 450 + 50;
      const el = document.getElementById('name');
      if (el) {
        el.style.backgroundPosition = traX + '% ' + traY + '%';
      }
    };
  }
</script>

<script>
  let worksLink = document.getElementById('works-link');

  worksLink?.addEventListener('click', () => {
    document.getElementById('works')?.scrollIntoView({ behavior: 'smooth' });
  });
</script>

<style>
  #home {
    width: 100%;
    height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }

  #name {
    font-size: 6em;
    margin: 0;
    letter-spacing: -2px;
    line-height: 90%;

    background: url('/red-and-blue-star.jpg') repeat;
    background-position: 73% 50%;
    background-clip: text;
    color: transparent;
    filter: saturate(1.5);
  }

  #brief {
    font-size: 1.5em;
    font-family: 'Manrope', sans-serif;
  }

  @media (max-width: 480px) {
    #home {
      justify-content: flex-start;
    }

    #name {
      text-align: center;
      font-size: 5rem;
      margin-top: 10vh;
      background-position: 65% 50%;
    }

    #brief {
      text-align: center;
    }
  }

  #external-links {
    padding-top: 80px;
    display: flex;
    flex-direction: row;
    justify-content: center;
  }

  #works-btn {
    font-size: 1.5em;
    font-family: 'Manrope', sans-serif;
    color: white;

    height: 33px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  #works {
    position: relative;
    margin-top: 25vh;
    height: 100vh;

    display: flex;
    justify-content: center;
  }
</style>
